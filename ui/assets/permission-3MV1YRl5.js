import{Y as n,t as s}from"./index-BkZ1fbvE.js";async function w(e){try{return(await n.post("/v1/admin/knowledge/entries",e)).data}catch(r){throw s.error(r.response?.data?.detail||r.message||"知识条目创建失败"),r}}async function m(e,r){try{return(await n.put(`/v1/admin/knowledge/entries/${e}`,r)).data}catch(a){throw s.error(a.response?.data?.detail||a.message||"知识条目更新失败"),a}}async function v(e={}){try{const{page:r,size:a,knowledge_type:t,name:l,catalog_level_1:d,catalog_level_2:i,catalog_level_3:c,status:u,orderby:p,order:f}=e,o={page:r,size:a};return d!==void 0&&(o.catalog_level_1=d),i!==void 0&&(o.catalog_level_2=i),c!==void 0&&(o.catalog_level_3=c),t!==void 0&&(o.knowledge_type=t),l!==void 0&&(o.name=l),u!==void 0&&(o.status=u),p!==void 0&&(o.orderby=p),f!==void 0&&(o.order=f),(await n.post("/v1/admin/knowledge/entries/search",o)).data}catch(r){throw s.error(r.response?.data?.detail||r.message||"获取知识条目列表失败"),r}}async function y(e,r){const a=new FormData;a.append("file",r);try{return(await n.post(`/v1/admin/knowledge/upload-excel?knowledge_id=${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw s.error(t.response?.data?.detail||t.message||"Excel 上传失败"),t}}function h(e){return e?.user_role?e.user_role!=="normal_user":!1}function k(e){return e?.user_role?e.user_role!=="normal_user":!1}function K(e){return e?.user_role?e.user_role!=="normal_user":!1}export{K as a,w as b,h as c,y as d,k as e,v as s,m as u};
