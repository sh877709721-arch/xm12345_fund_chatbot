import{y as S,z as _,r as o,j as e,s as w,S as t,B as i,t as d}from"./index-BkZ1fbvE.js";import{C as m,a as j,b as u,c as p,e as f}from"./card-CXEOfyPU.js";import{T as B,a as D,b as N,c as y,C as l}from"./tabs-YIYlmBQr.js";import{L as c}from"./label-BPYBCH7t.js";import{B as M}from"./badge-D8rsmH0n.js";import{D as R}from"./database-Dw3Xe9Nb.js";import"./index-JW4qzHJT.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],P=S("bell",I);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],E=S("shield",z);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],U=S("user",H);function Q(){const{user:g,refreshUser:A}=_(),[r,n]=o.useState(!1),[v,C]=o.useState({username:g?.username||"",email:g?.email||"",displayName:g?.username||""}),[x,h]=o.useState({emailNotifications:!0,pushNotifications:!1,weeklyReport:!0,systemAlerts:!0}),[k,b]=o.useState({twoFactorAuth:!1,sessionTimeout:!0,loginAlerts:!0}),T=async()=>{n(!0);try{d.success("个人资料已更新"),await A()}catch{d.error("更新失败，请重试")}finally{n(!1)}},L=async()=>{n(!0);try{d.success("通知设置已更新")}catch{d.error("更新失败，请重试")}finally{n(!1)}},F=async()=>{n(!0);try{d.success("安全设置已更新")}catch{d.error("更新失败，请重试")}finally{n(!1)}};return e.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"系统设置"}),e.jsx("p",{className:"text-muted-foreground",children:"管理您的账户设置和偏好配置"})]})}),e.jsxs(B,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(D,{className:"grid w-full grid-cols-4",children:[e.jsxs(N,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"个人资料"]}),e.jsxs(N,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"通知设置"]}),e.jsxs(N,{value:"security",className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"安全设置"]}),e.jsxs(N,{value:"data",className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"数据管理"]})]}),e.jsx(y,{value:"profile",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"个人资料"}),e.jsx(p,{children:"更新您的个人信息和联系方式"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"用户名"}),e.jsx(w,{id:"username",value:v.username,onChange:s=>C(a=>({...a,username:s.target.value})),placeholder:"请输入用户名"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"displayName",children:"显示名称"}),e.jsx(w,{id:"displayName",value:v.displayName,onChange:s=>C(a=>({...a,displayName:s.target.value})),placeholder:"请输入显示名称"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"邮箱地址"}),e.jsx(w,{id:"email",type:"email",value:v.email,onChange:s=>C(a=>({...a,email:s.target.value})),placeholder:"请输入邮箱地址"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"账户状态"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"secondary",className:"bg-green-100 text-green-800",children:"活跃用户"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["账户创建时间: ",new Date().toLocaleDateString()]})]})]}),e.jsx(t,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx(i,{onClick:T,disabled:r,children:r?"保存中...":"保存更改"})})]})]})}),e.jsx(y,{value:"notifications",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"通知设置"}),e.jsx(p,{children:"配置您希望接收的通知类型"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"邮件通知"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"通过邮件接收重要更新和提醒"})]}),e.jsx(l,{checked:x.emailNotifications,onCheckedChange:s=>h(a=>({...a,emailNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"推送通知"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"在浏览器中接收实时通知"})]}),e.jsx(l,{checked:x.pushNotifications,onCheckedChange:s=>h(a=>({...a,pushNotifications:s}))})]}),e.jsx(t,{}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"周报"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"每周接收活动摘要和统计报告"})]}),e.jsx(l,{checked:x.weeklyReport,onCheckedChange:s=>h(a=>({...a,weeklyReport:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"系统警报"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"接收系统重要事件和警报通知"})]}),e.jsx(l,{checked:x.systemAlerts,onCheckedChange:s=>h(a=>({...a,systemAlerts:s}))})]}),e.jsx(t,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx(i,{onClick:L,disabled:r,children:r?"保存中...":"保存设置"})})]})]})}),e.jsx(y,{value:"security",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"安全设置"}),e.jsx(p,{children:"管理您的账户安全和隐私设置"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"双因素认证"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"为您的账户添加额外的安全层"})]}),e.jsx(l,{checked:k.twoFactorAuth,onCheckedChange:s=>b(a=>({...a,twoFactorAuth:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"会话超时"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"自动退出长时间不活跃的会话"})]}),e.jsx(l,{checked:k.sessionTimeout,onCheckedChange:s=>b(a=>({...a,sessionTimeout:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"登录提醒"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"新设备登录时发送通知"})]}),e.jsx(l,{checked:k.loginAlerts,onCheckedChange:s=>b(a=>({...a,loginAlerts:s}))})]}),e.jsx(t,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:"密码重置"}),e.jsx(i,{variant:"outline",className:"w-full justify-start",children:"更改密码"})]}),e.jsx(t,{}),e.jsx("div",{className:"flex justify-end",children:e.jsx(i,{onClick:F,disabled:r,children:r?"保存中...":"保存设置"})})]})]})}),e.jsx(y,{value:"data",children:e.jsxs(m,{children:[e.jsxs(j,{children:[e.jsx(u,{children:"数据管理"}),e.jsx(p,{children:"管理您的数据和隐私设置"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:"数据导出"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"下载您的所有数据副本"}),e.jsx(i,{variant:"outline",children:"导出数据"})]}),e.jsx(t,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:"缓存清理"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"清除本地缓存和临时文件"}),e.jsx(i,{variant:"outline",children:"清理缓存"})]}),e.jsx(t,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"text-red-600",children:"危险操作"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"以下操作不可撤销，请谨慎操作"}),e.jsx(i,{variant:"destructive",children:"删除账户"})]})]})]})})]})]})}export{Q as default};
